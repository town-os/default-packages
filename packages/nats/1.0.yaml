image: nats:latest
description: High-performance cloud-native messaging system
supplies: ["messaging"]
command: ["nats-server", "--jetstream", "--store_dir", "/data"]
network:
  external:
    "@port@": "4222"
    "@monitorport@": "8222"
volumes:
  data:
    mountpoint: /data
questions:
  port:
    query: "What external port should NATS client connections listen on?"
    type: port
  monitorport:
    query: "What external port should the NATS monitoring endpoint listen on?"
    type: port
notes:
  URL:
    value: "nats://localhost:@port@"
    type: url
  Monitoring:
    value: "http://localhost:@monitorport@"
    type: url
