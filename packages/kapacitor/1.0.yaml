image: kapacitor:latest
description: Real-time streaming data processing engine
supplies: ["monitoring"]
environment:
  KAPACITOR_INFLUXDB_0_URLS_0: "@influxdburl@"
network:
  external:
    "@port@": "9092"
volumes:
  data:
    mountpoint: /var/lib/kapacitor
  config:
    mountpoint: /etc/kapacitor
questions:
  influxdburl:
    query: "What is the InfluxDB URL for Kapacitor to connect to (e.g. http://influxdb:8086)?"
  port:
    query: "What external port should the Kapacitor HTTP API listen on?"
    type: port
notes:
  API:
    value: "http://localhost:@port@"
    type: url
