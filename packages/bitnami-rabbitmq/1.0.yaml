image: bitnami/rabbitmq:latest
description: Feature-rich message broker (Bitnami)
supplies: ["messaging"]
environment:
  RABBITMQ_USERNAME: "@user@"
  RABBITMQ_PASSWORD: "@password@"
  RABBITMQ_MANAGEMENT_ALLOW_WEB_ACCESS: "true"
network:
  external:
    "@port@": "5672"
    "@mgmtport@": "15672"
volumes:
  data:
    mountpoint: /bitnami/rabbitmq/mnesia
questions:
  user:
    query: "What username should RabbitMQ use?"
  password:
    query: "What password should RabbitMQ use?"
  port:
    query: "What external port should RabbitMQ AMQP listen on?"
    type: port
  mgmtport:
    query: "What external port should the RabbitMQ management UI listen on?"
    type: port
notes:
  AMQP:
    value: "amqp://localhost:@port@"
    type: url
  Management:
    value: "http://localhost:@mgmtport@"
    type: url
