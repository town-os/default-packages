image: rabbitmq:management
description: Feature-rich message broker supporting multiple protocols
supplies: ["messaging"]
environment:
  RABBITMQ_DEFAULT_USER: "@user@"
  RABBITMQ_DEFAULT_PASS: "@password@"
network:
  external:
    "@port@": "5672"
    "@mgmtport@": "15672"
volumes:
  data:
    mountpoint: /var/lib/rabbitmq
questions:
  user:
    query: "What username should RabbitMQ use?"
  password:
    query: "What password should RabbitMQ use?"
  port:
    query: "What external port should RabbitMQ AMQP listen on?"
    type: port
  mgmtport:
    query: "What external port should the RabbitMQ management UI listen on?"
    type: port
notes:
  AMQP:
    value: "amqp://localhost:@port@"
    type: url
  Management:
    value: "http://localhost:@mgmtport@"
    type: url
