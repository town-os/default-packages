image: mattermost/mattermost-team-edition:latest
description: Open-source messaging platform for team collaboration
supplies: ["http"]
environment:
  MM_SQLSETTINGS_DRIVERNAME: sqlite3
  MM_SQLSETTINGS_DATASOURCE: /mattermost/data/mattermost.db
network:
  external:
    "@port@": "8065"
volumes:
  data:
    mountpoint: /mattermost/data
  logs:
    mountpoint: /mattermost/logs
  config:
    mountpoint: /mattermost/config
  plugins:
    mountpoint: /mattermost/plugins
  client-plugins:
    mountpoint: /mattermost/client/plugins
questions:
  port:
    query: "What external port should Mattermost listen on?"
    type: port
command: ["/mattermost/bin/mattermost", "server"]
