image: gitea/gitea:latest
description: Lightweight self-hosted Git service (local network)
supplies: ["http"]
environment:
  GITEA__server__DOMAIN: "@domain@"
  GITEA__server__SSH_DOMAIN: "@domain@"
  GITEA__server__ROOT_URL: "http://@domain@:@httpport@/"
  GITEA__database__DB_TYPE: sqlite3
network:
  internal:
    "@httpport@": "3000"
    "@sshport@": "22"
volumes:
  data:
    mountpoint: /data
  log:
    mountpoint: /data/gitea/log
questions:
  domain:
    query: "What domain should Gitea serve?"
    type: hostname
  httpport:
    query: "What port should the web interface listen on?"
    type: port
  sshport:
    query: "What port should SSH listen on?"
    type: port
    default: 2222
notes:
  URL:
    value: "http://@domain@:@httpport@"
    type: url
  SSH:
    value: "ssh://git@@domain@:@sshport@"
    type: url
